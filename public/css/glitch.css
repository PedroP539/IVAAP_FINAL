/* GLITCH DO INFERNO – ALEATÓRIO – BODY TODO – IVAAP 2025 */
body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  background: #d0e8d3;
  font-family: 'Quicksand', sans-serif;
  position: relative;
  overflow-x: hidden;
}

/* CAMADA GLITCH 1 – VERMELHO */
body::before {
  content: '';
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: url('/uploads/flora-lusitana.svg') center/contain no-repeat,
              linear-gradient(45deg, #27ae60, #219653);
  background-color: #d0e8d3;
  pointer-events: none;
  opacity: 0;
  z-index: 9999;
  animation: glitch1 8s infinite linear;
}

/* CAMADA GLITCH 2 – CIANO */
body::after {
  content: '';
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: url('/uploads/flora-lusitana.svg') center/contain no-repeat,
              linear-gradient(45deg, #27ae60, #219653);
  background-color: #d0e8d3;
  pointer-events: none;
  opacity: 0;
  z-index: 9998;
  animation: glitch2 8s infinite linear;
}

/* GLITCH 1 – VERMELHO + TREME */
@keyframes glitch1 {
  0%, 14%, 16%, 18%, 100% { 
    opacity: 0; 
    transform: translate(0);
  }
  15% { 
    opacity: 0.8; 
    transform: translate(-5px, -5px);
    clip-path: polygon(0 0, 100% 0, 100% 20%, 0 20%);
  }
  17% { 
    opacity: 0.9; 
    transform: translate(5px, 5px);
    clip-path: polygon(0 80%, 100% 80%, 100% 100%, 0 100%);
  }
}

/* GLITCH 2 – CIANO + SCANLINES */
@keyframes glitch2 {
  0%, 24%, 26%, 28%, 100% { 
    opacity: 0; 
    transform: translate(0);
  }
  25% { 
    opacity: 0.7; 
    transform: translate(8px, -3px);
    clip-path: polygon(0 30%, 100% 30%, 100% 70%, 0 70%);
  }
  27% { 
    opacity: 0.8; 
    transform: translate(-8px, 3px);
    filter: hue-rotate(180deg);
  }
}

/* EFEITO EXTRA – SCANLINES + RUÍDO (QUANDO GLITCH ATIVA) */
.glitch-active::before,
.glitch-active::after {
  animation-duration: 0.2s !important;
  animation-iteration-count: 3 !important;
}

/* GLITCH ALEATÓRIO – DISPARA DO NADA A CADA 8–25 SEGUNDOS */
body.glitch-mode::before { animation: glitch1 0.3s linear 3; }
body.glitch-mode::after  { animation: glitch2 0.3s linear 3; }